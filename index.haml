!!! 5

%html
  %head
    %title awesomemarkup &mdash; generate markup without all the headache
    %link{ rel: 'stylesheet', type: 'text/css', href: 'style.css' }
    %script{ type: 'text/javascript', src: 'http://use.typekit.com/mee1fjs.js' }
    %script{ type: 'text/javascript' } try{Typekit.load();}catch(e){}
  %body
    .siteWrapper
      %h1 awesomemarkup

      %h2 What is this?
      %p Sometimes, despite all your separation of content, style, and behavior, you just have to generate some markup from your javascript. Usually, what this means is a bunch of terrible string concatenation, ternaries, and bewilderingly escaped quotation marks. Awesomemarkup is a tool designed to allow you to generate an element or ten with speed, precision, and cleanliness. It allows you to <em>describe</em> what you want. Here's an example:

      .twoUp
        .leftCol
          .wrapper
            %h3 The old way
            %pre
              :preserve
                var markup = '&lt;div class="content ' + article.contentType +
                  '" style="display:' + (article.visible ? 'block' :
                  'none') + '"&gt;' + '&lt;h2&gt;' + article.title + '&lt;/h2&gt;' +
                  '&lt;/div&gt;';
        .rightCol
          .wrapper
            %h3 Awesomemarkup
            %pre
              :preserve
                var markup = $.tag({
                  _: 'div',
                  class: [ 'content', article.contentType ],
                  style: {
                    display: { i: article.visible,
                               t: 'block', e: 'none' }
                  },
                  content: {
                    _: 'h2',
                    content: article.title
                  }
                });

      %h2 How do I use it?
      %p Awesomemarkup takes a definition hash of the markup you wish to generate, and operates based on that. It works on a few simple rules, which are described below.

      %h2 Tag basics
      %p A tag is defined by constructing a hash containing the attributes you'd like it to have. There are a number of special keys it takes, but the most important one is the underscore (_). It declares the type of tag you'd like to generate:

      .twoUp
        .leftCol
          .wrapper
            %h3 Definition
            %pre { _: 'img' }
        .rightCol
          .wrapper
            %h3 Output
            %pre &lt;img/&gt;

      %p As you can see, Awesomemarkup is also clever about when to generate a self-closing tag. After that, most attributes you'd want to add go in just as keys on the hash:

      .twoUp
        .leftCol
          .wrapper
            %h3 Definition
            %pre
              :preserve
                {
                  _: 'a',
                  id: 'homeLink',
                  href: '/',
                  rel: 'nofollow',
                  title: 'Click &lt;here&gt; to go &quot;home&quot;!'
                }
        .rightCol
          .wrapper
            %h3 Output
            %pre
              :preserve
                &lt;a id="homeLink" href="/" rel="nofollow" title="Click &amp;lt;he
                re&amp;gt; to go &amp;quot;home&amp;quot;!"&gt;&lt;/a&gt;

      %p Notice that the special characters got properly escaped; attributes are automatically sanitized to prevent accidental markup breakage, and as a light protection against xss attacks.

      %p
        %a{ class: 'author', href: 'https://github.com/clint-tseng' } by Clint Tseng

    %a{ href: 'https://github.com/clint-tseng/awesomemarkup', class: 'forkMe' }
      %img{ src: 'https://d3nwyuy0nl342s.cloudfront.net/img/4c7dc970b89fd04b81c8e221ba88ff99a06c6b61/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67', alt: 'Fork me on GitHub' }


